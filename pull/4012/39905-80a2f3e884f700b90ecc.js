"use strict";(self.webpackChunkterra_core=self.webpackChunkterra_core||[]).push([[39905],{48908:function(e,t,l){var r=l(64836),a=l(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(l(10434)),o=r(l(861)),u=r(l(27424)),i=r(l(70215)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var l=C(t);if(l&&l.has(e))return l.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,l&&l.set(e,r),r}(l(67294)),s=l(51051),d=r(l(94184)),f=r(l(47166)),p=r(l(45697)),b=r(l(32018)),m=r(l(50026)),v=l(25387),_=l(55877),h=r(l(74754)),y=r(l(65720)),g=r(l(7522)),P=r(l(99480)),E=["ariaLabel","ariaLabelledBy","ariaDescribedBy","children","intl","isCollapsible","onRemove"];function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(C=function(e){return e?l:t})(e)}var S=f.default.bind(P.default),R={ariaLabel:p.default.string.isRequired,ariaLabelledBy:p.default.string,ariaDescribedBy:p.default.string,children:p.default.node,isCollapsible:p.default.bool,onRemove:p.default.func,intl:p.default.shape({formatMessage:p.default.func}).isRequired},w=function(e){var t=e.ariaLabel,l=e.ariaLabelledBy,r=e.ariaDescribedBy,a=e.children,f=e.intl,p=e.isCollapsible,v=e.onRemove,P=(0,i.default)(e,E),C=c.default.useContext(m.default),R=(0,c.useState)("-1"),w=(0,u.default)(R,2),A=w[0],D=w[1],M=(0,c.useState)(c.default.Children.count(a)),N=(0,u.default)(M,2),k=N[0],O=N[1],W=(0,c.useState)(c.default.Children.count(a)),U=(0,u.default)(W,2),T=U[0],j=U[1],x=(0,c.useState)(p),I=(0,u.default)(x,2),q=I[0],F=I[1],K=(0,c.useState)(!1),L=(0,u.default)(K,2),B=L[0],Y=L[1],V=(0,c.useState)(!1),H=(0,u.default)(V,2),G=H[0],X=H[1],J=(0,c.useRef)(),z=(0,c.useRef)(),Q=(0,c.useRef)(0),Z=(0,c.useRef)(!1),$=(0,c.useRef)(!1),ee=(0,c.useRef)(),te=(0,c.useCallback)((function(){var e=y.default.getRollUpIndex(z);q?(O(e),j(c.default.Children.count(a)-e)):e===c.default.Children.count(a)&&j(0)}),[a,q]),le=function(e){var t=J.current?z.current.querySelector("[id='".concat(J.current,"']")):null;t&&t.setAttribute("tabIndex",e)},re=function(){var e=J.current?z.current.querySelector("[id='".concat(J.current,"']")):null;e&&e.focus()},ae=function(){D("0"),z.current.focus()},ne=(0,c.useCallback)((function(){var e=(0,o.default)(z.current.querySelectorAll("[data-terra-pill]")),t=z.current.querySelector("[data-terra-rollup-pill]");t&&y.default.setRollUpPillTabIndex(t,"-1"),e.length>0&&Q.current<e.length?(y.default.setPillsTabIndex(e,"-1"),J.current=e[Q.current].id,le("0")):p&&q&&t&&(J.current=t.getAttribute("id"),le("0"))}),[q,p]),oe=(0,c.useCallback)((function(){var e=(0,o.default)(z.current.querySelectorAll("[data-terra-pill]"));p&&!q&&e.length>0&&e.length===c.default.Children.count(a)&&(le("-1"),J.current=e[Q.current].id,le("0"),$.current&&(re(),$.current=!1))}),[a,q,p]),ue=(0,c.useCallback)((function(){var e=(0,o.default)(z.current.querySelectorAll("[data-terra-pill]")),t=z.current.querySelector("[data-terra-rollup-pill]"),l=y.default.getRollUpIndex(z);if(Z.current){if(c.default.Children.count(a)<=0)return void ae();t&&y.default.setRollUpPillTabIndex(t,"-1"),e.length>0&&y.default.setPillsTabIndex(e,"-1"),e.length===l||t&&l>=1?J.current=e[Q.current].id:t&&(J.current=t.getAttribute("id")),le("0"),re(),Z.current=!1}}),[a]),ie=(0,c.useCallback)((function(e){Array.isArray(e)&&(O(c.default.Children.count(a)),j(c.default.Children.count(a)),p&&te(),ne(),oe(),ue())}),[a,p,ne,oe,ue,te]);(0,c.useLayoutEffect)((function(){var e=new b.default((function(e){ie(e)}));return e.observe(z.current.parentNode),function(){e.disconnect(),e=null}}),[a,ie]);var ce=function(e,t,l){var r=(0,o.default)(z.current.querySelectorAll("[data-terra-pill]")),a=l.target.parentElement.getAttribute("id"),n=r.findIndex((function(e){return e.id===a}));"click"===l.type&&(r.length>1&&(le("-1"),Q.current=0===n?0:n-1,le("0")),Y(!0)),ae(),v&&v(e,t)},se=function(e){e.current&&e.current.children.length>0&&(ee.current=e.current.children[0].innerText)},de={};de.onKeyDown=function(e){var t=(0,o.default)(z.current.querySelectorAll("[data-terra-pill]")),l=z.current.querySelector("[data-terra-rollup-pill]");switch(Y(!1),X(!1),e.keyCode){case s.KEY_RIGHT:e.preventDefault(),function(e,t){var l=t?t.getAttribute("id"):null;Q.current+1<=e.length&&(le("-1"),t&&Q.current+1===e.length?J.current=l:Q.current+1<e.length&&(Q.current+=1,J.current=a[Q.current].props.id),le("0"),re())}(t,l);break;case s.KEY_LEFT:e.preventDefault(),function(e,t){var l=t?t.getAttribute("id"):null;(J.current===l||Q.current>=1)&&(le("-1"),t&&J.current===l?(Q.current=e.length-1,J.current=a[Q.current].props.id):(Q.current-=1,J.current=a[Q.current].props.id),le("0"),re())}(t,l);break;case s.KEY_BACK_SPACE:case s.KEY_DELETE:e.preventDefault(),function(e){c.default.Children.count(a)>0&&e.length-1<c.default.Children.count(a)&&(Y(!0),ee.current=e[Q.current].children[0].innerText,le("-1"),Q.current>0&&(Q.current-=1),O(c.default.Children.count(a)),Z.current=!0)}(t);break;case s.KEY_HOME:e.preventDefault(),le("-1"),Q.current=0,J.current=t[Q.current].id,le("0"),re();break;case s.KEY_END:e.preventDefault(),le("-1"),Q.current=t.length-1,J.current=t[Q.current].id,le("0"),re()}},de.onBlur=function(){return D("-1")};var fe=(0,d.default)(S(["pills-group",C.className]),P.className),pe="terra-pills-group-interaction-hint-".concat((0,_.v4)()),be="",me=r?"".concat(r," ").concat(pe):pe,ve=f.formatMessage({id:"Terra.pills.hint.pillList"},{numberOfPills:c.default.Children.count(a)});p&&T>0&&q?ve+=", ".concat(f.formatMessage({id:"Terra.pills.hint.rollupNotVisible"},{pillsNotVisibleCount:T})):p&&!q&&G&&(ve=f.formatMessage({id:"Terra.pills.hint.rollupVisible"})),B&&(be=f.formatMessage({id:"Terra.pills.hint.wasRemoved"},{pillLabelName:ee.current}));var _e,he=l?void 0:"".concat(be,", ").concat(t),ye=c.default.Children.count(a)?{"aria-live":"assertive","aria-label":he,"aria-labelledby":l,"aria-describedby":me,role:"list"}:{role:"group"};return c.default.Children.count(a)||(ve="".concat(ve,", ").concat(he)),c.default.createElement(c.default.Fragment,null,c.default.createElement("div",(0,n.default)({},P,de,ye,{tabIndex:A,className:fe,ref:z}),a?(_e=a,c.default.Children.map(_e,(function(e){if(c.default.isValidElement(e))return c.default.cloneElement(e,{onRemove:ce,onSelect:se})})).splice(0,k)):[],p&&T>0&&c.default.createElement(g.default,{isCollapsed:q,onSelectRollUp:function(e){var t=(0,o.default)(z.current.querySelectorAll("[data-terra-pill]"));p&&q?"keydown"===e.type?($.current=!0,Q.current=t.length):(le("-1"),Q.current=t.length):X(!1),F(!q)},rollupCount:T})),c.default.createElement(h.default,{"aria-live":"polite",id:pe,text:ve}))};w.defaultProps={isCollapsible:!1},w.propTypes=R;t.default=(0,v.injectIntl)(w)},65720:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l={getRollUpIndex:function(e){var t,l=e.current.querySelector("[data-terra-rollup-pill]"),r=e.current.querySelectorAll("[data-terra-pill]"),a=e.current.offsetWidth,n=0,o=0,u=0;l&&(u=function(e){return e.parentElement.offsetWidth+parseFloat(window.getComputedStyle(e.parentElement,null).getPropertyValue("margin-right"),10)}(l));for(var i=0;i<r.length&&!(n>=a);i+=1){var c=(t=r[i]).offsetWidth+parseFloat(window.getComputedStyle(t,null).getPropertyValue("margin-right"),10);c+n+u<a&&(o=i+1),n+=c}return o},setPillsTabIndex:function(e,t){for(var l=0;l<e.length;l+=1)e[l].setAttribute("tabindex",t)},setRollUpPillTabIndex:function(e,t){e.setAttribute("tabindex",t)}};t.default=l},99592:function(e,t,l){var r=l(64836);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Pill",{enumerable:!0,get:function(){return n.default}}),t.default=void 0;var a=r(l(48908)),n=r(l(24666));t.default=a.default},24666:function(e,t,l){var r=l(64836),a=l(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(l(10434)),o=r(l(27424)),u=r(l(70215)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var l=y(t);if(l&&l.has(e))return l.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,l&&l.set(e,r),r}(l(67294)),c=l(51051),s=l(25387),d=r(l(45697)),f=r(l(94184)),p=r(l(47166)),b=r(l(62918)),m=r(l(32018)),v=r(l(50026)),_=r(l(99480)),h=["label","labelCategory","id","intl","metaData","onRemove","title","onSelect"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(y=function(e){return e?l:t})(e)}var g=p.default.bind(_.default),P={id:d.default.string.isRequired,label:d.default.string.isRequired,labelCategory:d.default.string,metaData:d.default.object,intl:d.default.shape({formatMessage:d.default.func}).isRequired,onRemove:d.default.func,title:d.default.string},E=function(e){var t=e.label,l=e.labelCategory,r=e.id,a=e.intl,s=e.metaData,d=e.onRemove,p=e.title,_=e.onSelect,y=(0,u.default)(e,h),P=i.default.useContext(v.default),E=(0,i.useRef)(),C=(0,i.useState)(!1),S=(0,o.default)(C,2),R=S[0],w=S[1],A=(0,i.useState)(!1),D=(0,o.default)(A,2),M=D[0],N=D[1],k=(0,i.useCallback)((function(){E.current.firstElementChild.scrollWidth>E.current.firstElementChild.clientWidth?w(!0):w(!1)}),[]),O=(0,i.useCallback)((function(e){Array.isArray(e)&&k()}),[k]);(0,i.useLayoutEffect)((function(){var e=new m.default((function(e){O(e)}));return e.observe(E.current.parentNode),function(){e.disconnect(),e=null}}),[k,O]);var W=function(){N(!1),E.current.setAttribute("aria-expanded",!1)},U=function(){return E.current},T={};T.isSelectable=R,T.isRemovable=d,T.isSelectableAndRemovable=d&&R;var j={},x=l?"".concat(l,": ").concat(t):t;j.title=p||(R?x:void 0),(T.isSelectable||T.isRemovable)&&(j.tabIndex="0",j.onKeyDown=function(e){E.current.setAttribute("data-terra-pills-show-focus-styles","true"),e.keyCode===c.KEY_RETURN||e.keyCode===c.KEY_SPACE?(e.preventDefault(),R&&N(!0)):e.keyCode!==c.KEY_DELETE&&e.keyCode!==c.KEY_BACK_SPACE||(e.preventDefault(),d&&d(r,s,e))},j.onMouseDown=function(e){E.current.setAttribute("data-terra-pills-show-focus-styles","false"),_(E,e)},j.onBlur=function(){E.current.setAttribute("data-terra-pills-show-focus-styles","true")});var I={};T.isSelectable&&(I.onClick=function(e){e.preventDefault(),e.stopPropagation(),R&&(N(!0),E.current.setAttribute("aria-expanded",!0))});var q,F={};d&&(F.onClick=function(e){e.preventDefault(),e.stopPropagation(),d(r,s,e)}),T.isSelectableAndRemovable?q=", ".concat(a.formatMessage({id:"Terra.pills.hint.selectableAndRemovable"})):T.isSelectable?q=", ".concat(a.formatMessage({id:"Terra.pills.hint.selectable"})):T.isRemovable&&(q=", ".concat(a.formatMessage({id:"Terra.pills.hint.removable"})));var K,L=(0,f.default)(g(["pill-label",{"is-focusable":T.isSelectable||T.isRemovable},{"is-removable":T.isRemovable&&!T.isSelectableAndRemovable},{"is-selectable-and-removable":T.isSelectableAndRemovable},P.className]),y.className),B=(0,f.default)(g(["pill","is-focusable",P.className]),y.className),Y=function(){return i.default.createElement("button",(0,n.default)({},F,{className:g("pill-remove-button"),tabIndex:"-1",type:"button","aria-label":a.formatMessage({id:"Terra.pills.label.delete"},{pillLabelName:t})}),i.default.createElement("span",{className:g("clear-icon")}))};return T.isSelectable?(K=" ".concat(l||""," ").concat(t," ").concat(q),i.default.createElement(i.default.Fragment,null,i.default.createElement("div",(0,n.default)({},y,j,I,{"aria-haspopup":T.isSelectable?"dialog":void 0,id:r,className:B,ref:E,role:"listitem","aria-label":K,"data-terra-pills-show-focus-styles":!0,"data-terra-pill":!0}),i.default.createElement("span",{className:L},l?i.default.createElement("span",{className:g("pill-category")},"".concat(l,": ")):void 0,i.default.createElement("span",null,t)),T.isRemovable&&Y()),R&&i.default.createElement(b.default,{isOpen:M,isArrowDisplayed:!0,targetRef:U,onRequestClose:W,contentHeight:"auto",contentWidth:"auto"},i.default.createElement("div",{className:g(["popup-content-pill-label",P.className])},l?i.default.createElement("span",{className:g(["popup-content-pill-category",P.className])},"".concat(l,": ")):void 0,i.default.createElement("span",null,t))))):function(){var e=" ".concat(l||""," ").concat(t," ").concat(q);return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",(0,n.default)({},y,j,{id:r,className:B,ref:E,role:"listitem","aria-label":e,"data-terra-pills-show-focus-styles":!0,"data-terra-pill":!0}),i.default.createElement("span",{className:L},l?i.default.createElement("span",{className:g("pill-category")},"".concat(l,": ")):void 0,i.default.createElement("span",null,t)),T.isRemovable&&Y()))}()};E.propTypes=P;t.default=(0,s.injectIntl)(E)},7522:function(e,t,l){var r=l(64836),a=l(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var l=b(t);if(l&&l.has(e))return l.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,l&&l.set(e,r),r}(l(67294)),o=l(51051),u=l(25387),i=r(l(47166)),c=r(l(45697)),s=r(l(50026)),d=l(55877),f=r(l(74754)),p=r(l(99480));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(b=function(e){return e?l:t})(e)}var m=i.default.bind(p.default),v={isCollapsed:c.default.bool,onSelectRollUp:c.default.func,rollupCount:c.default.number,intl:c.default.shape({formatMessage:c.default.func}).isRequired},_=function(e){var t=e.isCollapsed,l=e.onSelectRollUp,r=e.intl,a=e.rollupCount,u=(0,n.useRef)(),i=n.default.useContext(s.default),c=t&&a>0?r.formatMessage({id:"Terra.pills.label.rollupPill"},{pillsNotVisibleCount:a}):r.formatMessage({id:"Terra.pills.label.showLess"}),p=t?r.formatMessage({id:"Terra.pills.hint.rollupPill"},{pillsNotVisibleCount:a}):r.formatMessage({id:"Terra.pills.hint.showLess"}),b="terra-rollup-pill-".concat((0,d.v4)()),v="terra-rollup-pill-".concat((0,d.v4)());return n.default.createElement("div",{role:"listitem",className:m("pill-list-item")},n.default.createElement("button",{id:b,className:m(["rollup-pill",i.className]),onClick:function(e){e.preventDefault(),e.stopPropagation(),l(e)},onKeyDown:function(e){u.current.setAttribute("data-terra-rollup-pill-show-focus-styles","true"),e.keyCode!==o.KEY_RETURN&&e.keyCode!==o.KEY_SPACE||(e.preventDefault(),e.stopPropagation(),l(e))},onMouseDown:function(){u.current.setAttribute("data-terra-rollup-pill-show-focus-styles","false")},onBlur:function(){u.current.setAttribute("data-terra-rollup-pill-show-focus-styles","true")},ref:u,tabIndex:"0",type:"button","aria-describedby":v,"data-terra-rollup-pill-show-focus-styles":!0,"data-terra-rollup-pill":!0},n.default.createElement("span",{className:m("rollup-pill-label")},c)),n.default.createElement(f.default,{id:v,text:p,"aria-hidden":"true"}))};_.propTypes=v;t.default=(0,u.injectIntl)(_)},99480:function(e,t,l){l.r(t),t.default={"clinical-lowlight-theme":"Pill-module__clinical-lowlight-theme___2k01f","orion-fusion-theme":"Pill-module__orion-fusion-theme___WJ5lx","pills-group":"Pill-module__pills-group___qCKg8","pill-list-item":"Pill-module__pill-list-item___5K3Ox",pill:"Pill-module__pill___F708A","is-focusable":"Pill-module__is-focusable___pflIh","pill-label":"Pill-module__pill-label___6aEkh","pill-category":"Pill-module__pill-category___iX4OL","is-removable":"Pill-module__is-removable___-C-W2","pill-remove-button":"Pill-module__pill-remove-button___H2+gg","clear-icon":"Pill-module__clear-icon___1ScH9","is-selectable-and-removable":"Pill-module__is-selectable-and-removable___4Y3UX","rollup-pill":"Pill-module__rollup-pill___e9Gqa","rollup-pill-label":"Pill-module__rollup-pill-label___Ytx0V","popup-content-pill-label":"Pill-module__popup-content-pill-label___c2P2y","popup-content-pill-category":"Pill-module__popup-content-pill-category___+dbLH"}},10752:function(e,t){function l(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function r(e){this.setState(function(t){var l=this.constructor.getDerivedStateFromProps(e,t);return null!=l?l:null}.bind(this))}function a(e,t){try{var l=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(l,r)}finally{this.props=l,this.state=r}}Object.defineProperty(t,"__esModule",{value:!0}),l.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,t.polyfill=function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,u=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?u="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(u="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==u){var i=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==u?"\n  "+u:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=l,t.componentWillReceiveProps=r),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,l){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:l;s.call(this,e,t,r)}}return e}}}]);