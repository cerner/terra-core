"use strict";(self.webpackChunkterra_core=self.webpackChunkterra_core||[]).push([[82061],{82061:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=p(n(96540)),i=p(n(5556)),a=n(8604),l=p(n(27923)),u=p(n(60107)),s=p(n(40166)),c=p(n(55424)),d=p(n(81730)),f=["children","defaultValue","onChange","placeholder","required","value","intl","inputId"];function p(e){return e&&e.__esModule?e:{default:e}}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function _(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function g(e,t,n){return t=w(t),function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,O()?Reflect.construct(t,n||[],w(e).constructor):t.apply(e,n))}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}var T={children:i.default.node,defaultValue:i.default.oneOfType([i.default.string,i.default.number,i.default.array]),disabled:i.default.bool,dropdownAttrs:i.default.object,intl:i.default.shape({formatMessage:i.default.func}).isRequired,isIncomplete:i.default.bool,isInvalid:i.default.bool,isTouchAccessible:i.default.bool,maxHeight:i.default.number,maxSelectionCount:i.default.number,onBlur:i.default.func,onChange:i.default.func,onClick:i.default.func,onDeselect:i.default.func,onFocus:i.default.func,onSearch:i.default.func,onSelect:i.default.func,optionFilter:i.default.func,placeholder:i.default.string,required:i.default.bool,value:i.default.oneOfType([i.default.string,i.default.number,i.default.array]),inputId:i.default.string},k={children:void 0,defaultValue:void 0,disabled:!1,dropdownAttrs:void 0,isIncomplete:!1,isInvalid:!1,isTouchAccessible:!1,maxSelectionCount:void 0,onChange:void 0,onDeselect:void 0,onSearch:void 0,onSelect:void 0,optionFilter:void 0,placeholder:void 0,required:!1,value:void 0,inputId:void 0},j=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=g(this,t,[e]);var r=e.defaultValue,o=e.value;return n.state={tags:[],value:d.default.defaultValue({defaultValue:r,value:o,multiple:!0})},n.display=n.display.bind(n),n.handleChange=n.handleChange.bind(n),n.handleDeselect=n.handleDeselect.bind(n),n.handleSelect=n.handleSelect.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(t,e),n=t,(r=[{key:"handleChange",value:function(e){void 0===this.props.value&&this.setState({value:e}),this.props.onChange&&this.props.onChange(e)}},{key:"handleDeselect",value:function(e){this.handleChange(d.default.deselect(this.props,this.state,e)),this.props.onDeselect&&this.props.onDeselect(e)}},{key:"handleSelect",value:function(e,t){var n=[].concat(m(d.default.value(this.props,this.state)),[e]);this.handleChange(n),void 0!==this.props.value||d.default.findByValue(this.props,this.state,e)||this.setState((function(t){return{tags:[].concat(m(t.tags),[o.default.createElement(u.default,{key:e,display:e,value:e})])}})),this.props.onSelect&&this.props.onSelect(e,t)}},{key:"display",value:function(){var e=this;return d.default.value(this.props,this.state).map((function(t){return o.default.createElement(c.default,{value:t,key:t,onDeselect:e.handleDeselect},d.default.valueDisplay(e.props,t))}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.defaultValue,e.onChange,e.placeholder),r=e.required,i=(e.value,e.intl),a=e.inputId,u=v(e,f),s=i.formatMessage({id:"Terra.form.select.defaultDisplay"}),c=void 0===n?s:n;return o.default.createElement(l.default,h({},u,{"data-terra-select":!0,value:d.default.value(this.props,this.state),display:this.display(),onDeselect:this.handleDeselect,onSelect:this.handleSelect,placeholder:c,required:r,totalOptions:d.default.getTotalNumberOfOptions(t),inputId:a}),this.state.tags,t)}}])&&b(n.prototype,r),i&&b(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.default.Component);j.Option=u.default,j.OptGroup=s.default,j.propTypes=T,j.defaultProps=k,j.isSelect=!0;t.default=(0,a.injectIntl)(j)},11926:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(96540)),o=u(n(5556)),i=n(8604),a=u(n(60107)),l=["value","intl"];function u(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d={intl:o.default.shape({formatMessage:o.default.func}).isRequired,value:o.default.oneOfType([o.default.number,o.default.string])},f=function(e){var t=e.value,n=e.intl,o=c(e,l);return r.default.createElement(a.default,s({},o,{isAddOption:!0,value:t,display:n.formatMessage({id:"Terra.form.select.add"},{text:t}),"data-terra-select-add-option":!0}))};f.propTypes=d,f.isOption=!0;t.default=(0,i.injectIntl)(f)},94535:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(96540)),o=d(n(5556)),i=d(n(28516)),a=d(n(46942)),l=d(n(67967)),u=d(n(52103)),s=d(n(52956)),c=["children","isAbove","isEnabled","isTouchAccessible","onResize","refCallback","target"];function d(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var h=l.default.bind(s.default),v={children:o.default.node.isRequired,isAbove:o.default.bool,isEnabled:o.default.bool,isTouchAccessible:o.default.bool,onResize:o.default.func.isRequired,refCallback:o.default.func.isRequired,target:o.default.object.isRequired},m={vertical:"bottom",horizontal:"start"},y={vertical:"top",horizontal:"start"},b=function(e){var t=e.children,n=e.isAbove,o=e.isEnabled,l=e.isTouchAccessible,s=e.onResize,d=e.refCallback,v=e.target,b=p(e,c),_=r.default.useContext(u.default),g=r.default.useCallback((function(e){e.preventDefault()}),[]),O=(0,a.default)(h(["dropdown",{"is-above":n},{"is-touch-accessible":l},_.className]),b.className);return l?r.default.createElement("div",f({},b,{className:O,onMouseDown:g,ref:d}),t):r.default.createElement(i.default,{isOpen:!0,isEnabled:o,targetRef:function(){return v},attachmentBehavior:"none",contentAttachment:n?m:y,targetAttachment:n?y:m},r.default.createElement(i.default.Content,f({},b,{disableOnClickOutside:!0,className:O,onResize:s,onMouseDown:g,refCallback:d}),t))};b.propTypes=v,b.defaultProps={isAbove:!1,isTouchAccessible:!1};t.default=b},5197:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(3796))&&r.__esModule?r:{default:r};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function c(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,r=[{key:"dropdownStyle",value:function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).style,n=e.maxHeight,r=e.width,o=e.bottom,i=e.top;return l(l({},t),{},{maxHeight:n,width:r,bottom:o,top:i})}},{key:"dropdownPosition",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=l({},e).style||{},a=n.getBoundingClientRect().height,u=t.getBoundingClientRect(),s=u.bottom,c=u.width,d=u.top,f=t.getBoundingClientRect().height,p=window.innerHeight-s,h=parseInt(i.maxHeight||r,10)||1/0,v=h<p||a<p||p>d,m=v?p:d,y=!v;return{width:c,maxHeight:Math.min(h,m-10),isAbove:y,isPositioned:!0,bottom:o&&y?f:void 0,top:o&&!y?"100%":void 0}}},{key:"allowsMultiSelections",value:function(e){return e.variant===o.default.MULTIPLE||e.variant===o.default.TAG}},{key:"includes",value:function(e,t){return 0!==t.trim().length&&(e.value||[]).indexOf(t)>-1}},{key:"shouldHideSearch",value:function(t,n){return!!e.allowsMultiSelections(t)&&!n.isFocused&&t.value&&t.value.length>0}},{key:"shouldPositionDropdown",value:function(e,t,n){if(!t.isOpen)return!1;var r=n.getBoundingClientRect().bottom;return!1===e.isOpen||r>window.innerHeight}},{key:"shouldAddOptionOnBlur",value:function(t,n){var r=t.onSelect,i=t.value,a=t.variant,l=n.hasSearchChanged,u=n.searchValue;return!(a!==o.default.TAG&&a!==o.default.COMBOBOX||!(a!==o.default.TAG||u.trim().length>0)||!l||!r||a===o.default.TAG&&e.includes(t,u)||a===o.default.COMBOBOX&&i===u)}},{key:"tabIndex",value:function(e){return e.variant!==o.default.DEFAULT||e.disabled?"-1":"0"}},{key:"shiftFocusToMenu",value:function(e){setTimeout((function(){e.selectMenu&&e.selectMenu.focus()}),100)}}],(n=null)&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();t.default=d},29026:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(96540)),o=s(n(5556)),i=n(8604),a=s(n(67967)),l=s(n(52103)),u=s(n(3719));function s(e){return e&&e.__esModule?e:{default:e}}var c=a.default.bind(u.default),d={value:o.default.oneOfType([o.default.number,o.default.string])},f=function(e){var t=e.value,n=r.default.useContext(l.default);return r.default.createElement("div",{className:c("max-selection",n.className)},r.default.createElement(i.FormattedMessage,{id:"Terra.form.select.maxSelectionOption",values:{text:t}}))};f.propTypes=d;t.default=f},78833:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(96540)),o=i(n(3796));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,i=[{key:"contains",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return!!e&&e.toString().toLowerCase().indexOf(t.trim().toLowerCase())>-1}},{key:"isEqual",value:function(e,t){return null!=e&&null!=t&&e.toString().toLowerCase()===t.toString().toLowerCase()}},{key:"allowsMultiSelections",value:function(e){return e===o.default.MULTIPLE||e===o.default.TAG}},{key:"isSelected",value:function(t,n){return Array.isArray(t)?e.includes(t,n):e.isEqual(t,n)}},{key:"includes",value:function(t,n){return!(!t||!t.length)&&void 0!==t.find((function(t){return e.isEqual(t,n)}))}},{key:"flatten",value:function(t,n){return r.default.Children.toArray(t).reduce((function(t,r){if(r.type.isOption&&(!n||n&&!r.props.disabled))t.push(r);else if(r.type.isOptGroup)return t.concat(e.flatten(r.props.children,n));return t}),[])}},{key:"filter",value:function(t,n,o){return r.default.Children.toArray(t).reduce((function(t,i){if(i.type.isOption&&e.filterOption(i,n,o))t.push(i);else if(i.type.isOptGroup){var a=e.filter(i.props.children,n,o);a.length>0&&t.push(r.default.cloneElement(i,{},a))}return t}),[])}},{key:"filterOption",value:function(t,n,r){return r?r(n,t):e.contains(t.props.display,n)}},{key:"findByValue",value:function(t,n){return e.flatten(t).find((function(t){var r=t.props;return e.isEqual(r.value,n)}))}},{key:"getOptGroupElement",value:function(e,t){return r.default.Children.toArray(e).find((function(e){return e.type.isOptGroup&&r.default.Children.toArray(e.props.children).find((function(e){return e.props.value===t}))}))}},{key:"findByDisplay",value:function(t,n){return e.flatten(t).find((function(t){var r=t.props;return e.isEqual(r.display,n)}))}},{key:"findFirst",value:function(t){var n=e.flatten(t,!0);return n.length>0?n[0].props.value:null}},{key:"findLast",value:function(t){var n=e.flatten(t,!0);return n.length>0?n[n.length-1].props.value:null}},{key:"findWithStartString",value:function(t,n){var r=e.flatten(t,!0).find((function(e){return(e.props.display||"").toLowerCase().startsWith(n.toLowerCase())}));return r?r.props.value:null}},{key:"findNext",value:function(t,n){var r=e.flatten(t,!0);if(0===r.length)return null;var o=r.findIndex((function(t){var r=t.props;return e.isEqual(r.value,n)}));return r.length-1===o?r[0].props.value:-1===o?null:r[o+1].props.value}},{key:"getIndex",value:function(t,n){return e.flatten(t,!0).findIndex((function(t){var r=t.props;return e.isEqual(r.value,n)}))+1}},{key:"findPrevious",value:function(t,n){var r=e.flatten(t,!0),o=r.findIndex((function(t){var r=t.props;return e.isEqual(r.value,n)}));return 0===o&&(o=r.length),-1===o?null:r[o-1].props.value}},{key:"getActiveOptionFromProps",value:function(t,n,r){var o=r.active,i=(t.searchValue,t.value),a=e.flatten(n,!0);if(0===a.length)return null;if(null!==o&&e.findByValue(a,o))return o;if(void 0===r.searchValue){var l=a.find((function(t){return Array.isArray(i)?e.includes(i,t.props.value):e.isEqual(i,t.props.value)}));return void 0===l?a[0].props.value:l.props.value}return r.searchValue,a[0].props.value}},{key:"shouldAllowFreeText",value:function(t,n){var r=t.searchValue,i=t.value,a=t.variant;if(a===o.default.TAG||a===o.default.COMBOBOX){var l=e.findByDisplay(n,r),u=Array.isArray(i)?e.includes(i,r):e.isEqual(i,r);return!l&&!u&&(r||"").trim().length>0}return!1}},{key:"shouldShowNoResults",value:function(e,t){var n=e.variant;return n!==o.default.TAG&&n!==o.default.COMBOBOX&&0===t.length}},{key:"isMaxSelectionReached",value:function(t){var n=t.maxSelectionCount,r=t.value,o=t.variant;return!!(void 0!==n&&e.allowsMultiSelections(o)&&Array.isArray(r)&&r.length>=n)}},{key:"updateSelectionState",value:function(t,n){var o=e.isMaxSelectionReached(n);return r.default.Children.map(t,(function(t){return t.type.isOption?r.default.cloneElement(t,{disabled:t.props.disabled||o&&!e.isSelected(n.value,t.props.value)}):t.type.isOptGroup?r.default.cloneElement(t,{},e.updateSelectionState(t.props.children,n)):t}))}},{key:"shouldShowClearOption",value:function(e){var t=e.clearOptionDisplay,n=e.searchValue,r=e.hasAddOption,o=e.hasNoResults;return!(!t||o||r||void 0!==n&&0!==n.length)}}],(n=null)&&l(t.prototype,n),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();t.default=s},40166:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(96540)),o=s(n(5556)),i=n(8604),a=s(n(67967)),l=s(n(52103)),u=s(n(8043));function s(e){return e&&e.__esModule?e:{default:e}}var c=a.default.bind(u.default),d={children:o.default.node,disabled:o.default.bool,intl:o.default.shape({formatMessage:o.default.func}).isRequired,label:o.default.node.isRequired},f=function(e){var t=e.children,n=e.disabled,o=e.intl,i=e.label,a=r.default.useContext(l.default);return r.default.createElement("li",{className:c("opt-group",{"is-disabled":n},a.className),role:"option","aria-selected":"false"},r.default.createElement("div",{className:c("label")},i),r.default.createElement("ul",{className:c("options"),role:"listbox","aria-label":o.formatMessage({id:"Terra.form.select.option"})},r.default.Children.map(t,(function(e){return r.default.cloneElement(e,{disabled:n||!!e.props.disabled})}))))};f.propTypes=d,f.defaultProps={disabled:!1},f.isOptGroup=!0;t.default=(0,i.injectIntl)(f)},60107:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(96540)),o=d(n(5556)),i=d(n(46942)),a=d(n(67967)),l=d(n(52103)),u=d(n(82767)),s=d(n(15392)),c=["disabled","display","value","variant","isActive","isSelected","isCheckable","isAddOption","index","totalOptions","ofText","expandedStateText"];function d(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var h=a.default.bind(s.default),v={disabled:o.default.bool,display:o.default.string,isActive:o.default.bool,isAddOption:o.default.bool,isCheckable:o.default.bool,isSelected:o.default.bool,value:o.default.oneOfType([o.default.string,o.default.number]).isRequired,variant:o.default.string,index:o.default.number,totalOptions:o.default.number,ofText:o.default.string,expandedStateText:o.default.string},m={disabled:!1,display:void 0},y=function(e){var t=e.disabled,n=e.display,o=(e.value,e.variant),a=e.isActive,s=e.isSelected,d=e.isCheckable,v=e.isAddOption,m=e.index,y=(e.totalOptions,e.ofText,e.expandedStateText),b=p(e,c),_=r.default.useContext(l.default),g=(0,i.default)(h("option",{"is-active":a},{"is-checkable":d&&!v},{"is-default":!d&&!v},{"is-disabled":t},{"is-selected":s},{"is-add-option":v},_.className),b.className),O="option";u.default.isSafari()&&!("ontouchstart"in window)&&(O="radio","tag"!==o&&"multiple"!==o||(O="checkbox"));var w=s||1===m?"".concat(y," ").concat(n):n;return r.default.createElement("li",f({role:O},b,{disabled:t,className:g,"aria-selected":s,"aria-disabled":t,tabIndex:"0","data-terra-select-option":!0,"aria-label":w}),(d||v)&&r.default.createElement("span",{className:h("icon")}),r.default.createElement("span",{"data-terra-add-option":!0,className:h("display")},n))};y.propTypes=v,y.defaultProps=m,y.isOption=!0;t.default=y},81730:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(96540)),o=l(n(3796)),i=l(n(78833)),a=l(n(55073));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,l=[{key:"defaultValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultValue,n=e.value,r=e.multiple;return void 0!==n?null:r?t?(0,a.default)([t]):[]:null!=t?t:""}},{key:"deselect",value:function(t,n,r){return e.value(t,n).filter((function(e){return e!==r}))}},{key:"findByValue",value:function(e,t,n){return i.default.findByValue(e.children,n)||i.default.findByValue(t.tags,n)}},{key:"allowsMultiSelections",value:function(e){return e.variant===o.default.MULTIPLE||e.variant===o.default.TAG}},{key:"select",value:function(t,n,r){return e.allowsMultiSelections(t)?[].concat(s(e.value(t,n)),[r]):r}},{key:"value",value:function(e,t){return void 0===e.value?t.value:e.value}},{key:"valueDisplay",value:function(e,t){var n=i.default.findByValue(e.children,t);return n?n.props.display:t}},{key:"getTotalNumberOfOptions",value:function(e){var t=0;return r.default.Children.forEach(e,(function(e){e.type.isOption&&(t+=1),e.type.isOptGroup&&r.default.Children.forEach(e.props.children,(function(e){e.type.isOption&&(t+=1)}))})),t}}],(n=null)&&d(t.prototype,n),l&&d(t,l),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,l}();t.default=p},82767:function(e,t){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l,u=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"isSafari",value:function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")}}],(t=null)&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();i=u,l=function(){return-1!==navigator.userAgent.indexOf("Mac")&&-1===navigator.userAgent.indexOf("Win")},(a=o(a="isMac"))in i?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l;t.default=u},55424:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(96540)),i=c(n(5556)),a=c(n(67967)),l=c(n(52103)),u=n(8604),s=c(n(20137));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var f=a.default.bind(s.default),p={children:i.default.node.isRequired,onDeselect:i.default.func.isRequired,value:i.default.oneOfType([i.default.string,i.default.number]).isRequired,disabled:i.default.bool,intl:i.default.shape({formatMessage:i.default.func}).isRequired},h=function(e){var t=e.children,n=e.onDeselect,r=e.value,i=e.disabled,a=e.intl,u=o.default.useContext(l.default),s=(0,o.useRef)(null);return o.default.createElement("li",{className:f("tag",u.className),ref:s},o.default.createElement("span",{className:f("display")},t),o.default.createElement("span",{id:"terra-tag-deselect-".concat(r),onKeyDown:function(e){if(("Enter"===e.key||"Backspace"===e.key)&&!i){e.stopPropagation(),n(r);var t=s.current.previousElementSibling;if(t){var o=t.children[1];o&&o.focus()}else{var a=s.current.nextElementSibling,l=s.current.closest("ul");if(a){var u=a.children[1];u?u.focus():l.click()}else l.click()}}},className:f("deselect"),onClick:function(){i||n(r)},tabIndex:i?-1:0,role:"button","aria-label":a.formatMessage({id:"Terra.form.select.deselect"},{text:t})},o.default.createElement("span",{className:f("icon")})))};h.propTypes=p;t.default=(0,u.injectIntl)(h)},7343:function(){Node.prototype.contains||(Node.prototype.contains=function(e){if(!(0 in arguments))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1})},55493:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)},3796:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={COMBOBOX:"combobox",DEFAULT:"default",MULTIPLE:"multiple",TAG:"tag",SEARCH:"search"}},55073:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(t))return t;return t.reduce((function(t,n){return Array.isArray(n)?t.concat(e(n)):t.concat(n)}),[])}},27923:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=_(n(96540)),i=_(n(5556)),a=_(n(46942)),l=_(n(67967)),u=_(n(52103)),s=n(8604),c=_(n(72704)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(25966)),f=_(n(94535)),p=_(n(33463)),h=_(n(5197)),v=_(n(26378)),m=_(n(78833));n(22708),n(7343),n(55493);var y=["ariaLabel","children","disabled","display","dropdownAttrs","intl","inputId","isIncomplete","isTouchAccessible","isInvalid","maxHeight","maxSelectionCount","onDeselect","onSearch","onSelect","optionFilter","placeholder","required","totalOptions","value"];function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function S(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function T(e,t,n){return t=j(t),function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,k()?Reflect.construct(t,n||[],j(e).constructor):t.apply(e,n))}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var P=l.default.bind(v.default),C={ariaLabel:i.default.string,children:i.default.node,disabled:i.default.bool,display:i.default.node,dropdownAttrs:i.default.object,inputId:i.default.string,intl:i.default.shape({formatMessage:i.default.func}).isRequired,isIncomplete:i.default.bool,isInvalid:i.default.bool,isTouchAccessible:i.default.bool,maxHeight:i.default.number,maxSelectionCount:i.default.number,onDeselect:i.default.func,onBlur:i.default.func,onClick:i.default.func,onFocus:i.default.func,onSearch:i.default.func,onSelect:i.default.func,optionFilter:i.default.func,placeholder:i.default.string,required:i.default.bool,totalOptions:i.default.number,value:i.default.oneOfType([i.default.string,i.default.number,i.default.array])},x={disabled:!1,dropdownAttrs:void 0,isIncomplete:!1,isInvalid:!1,isTouchAccessible:!1,maxSelectionCount:void 0,onDeselect:void 0,onSearch:void 0,onSelect:void 0,optionFilter:void 0,placeholder:void 0,required:!1,totalOptions:void 0,value:void 0,inputId:void 0},M=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=T(this,t,[e])).state={focusedByTouch:!1,isOpen:!1,isFocused:!1,isInputFocused:!1,isPositioned:!1,hasSearchChanged:!1,searchValue:""},n.ariaLabel=n.ariaLabel.bind(n),n.setInput=n.setInput.bind(n),n.getDisplay=n.getDisplay.bind(n),n.renderToggleButton=n.renderToggleButton.bind(n),n.renderDescriptionText=n.renderDescriptionText.bind(n),n.openDropdown=n.openDropdown.bind(n),n.closeDropdown=n.closeDropdown.bind(n),n.toggleDropdown=n.toggleDropdown.bind(n),n.positionDropdown=n.positionDropdown.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleClick=n.handleClick.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleSelect=n.handleSelect.bind(n),n.handleSearch=n.handleSearch.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleInputMouseDown=n.handleInputMouseDown.bind(n),n.handleInputFocus=n.handleInputFocus.bind(n),n.handleInputBlur=n.handleInputBlur.bind(n),n.handleToggleClick=n.handleToggleClick.bind(n),n.handleToggleButtonClick=n.handleToggleButtonClick.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.role=n.role.bind(n),n.menuId="terra-select-menu-".concat((0,c.default)()),n.visuallyHiddenComponent=o.default.createRef(),n.setSelectMenuRef=n.setSelectMenuRef.bind(n),n.shouldFocusDropdown=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e),r=t,l=[{key:"handleMouseDown",value:function(e){e.preventDefault()}},{key:"shouldAddOptionOnBlur",value:function(e,t){var n=e.onSelect,r=t.hasSearchChanged,o=t.searchValue;return!(!n||!r)&&o.trim().length>0&&!h.default.includes(e,o)}}],(i=[{key:"componentDidMount",value:function(){Element.prototype.hasOwnProperty("inert")||n(77479)}},{key:"componentDidUpdate",value:function(e,t){h.default.shouldPositionDropdown(t,this.state,this.dropdown)&&(clearTimeout(this.debounceTimer),this.dropdown.setAttribute("inert",""),this.debounceTimer=setTimeout(this.positionDropdown,t.isOpen?100:0))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.debounceTimer)}},{key:"handleBlur",value:function(e){var t=e.relatedTarget||document.activeElement;this.dropdown&&this.dropdown===document.activeElement&&this.dropdown.contains(document.activeElement)||t!==this.input&&t!==this.selectMenu&&(this.setState({isFocused:!1,focusedByTouch:!1}),this.closeDropdown(),this.props.onBlur&&this.props.onBlur(e))}},{key:"handleClick",value:function(e){this.openDropdown(e),this.props.onClick&&this.props.onClick(e)}},{key:"handleFocus",value:function(e){this.props.disabled||(this.props.onFocus&&!this.state.isFocused&&this.props.onFocus(e),this.setState({isFocused:!0}))}},{key:"handleKeyDown",value:function(e){var t=this.props,n=t.children,r=t.intl,o=t.onDeselect,i=t.value,a=e.keyCode,l=e.target;if(a===d.KEY_SPACE&&l!==this.input)e.preventDefault(),this.openDropdown(e);else if(a===d.KEY_UP||a===d.KEY_DOWN)e.preventDefault(),this.openDropdown(e);else if(a===d.KEY_BACK_SPACE&&!this.state.searchValue&&i.length>0){var u=i[i.length-1],s=m.default.findByValue(n,u),c=s?s.props.display:u;this.visuallyHiddenComponent&&this.visuallyHiddenComponent.current&&(this.visuallyHiddenComponent.current.innerText=r.formatMessage({id:"Terra.form.select.unselectedText"},{text:c})),o&&o(u)}else this.state.isOpen&&a===d.KEY_ESCAPE&&(e.stopPropagation(),this.closeDropdown())}},{key:"handleInputMouseDown",value:function(e){e.stopPropagation(),this.openDropdown(e)}},{key:"handleInputFocus",value:function(){this.setState({isInputFocused:!0})}},{key:"handleInputBlur",value:function(){this.setState({isInputFocused:!1})}},{key:"handleToggleClick",value:function(){this.state.isOpen&&this.closeDropdown()}},{key:"handleToggleButtonClick",value:function(){this.state.isOpen&&(this.closeDropdown(),this.input&&this.input.focus())}},{key:"handleTouchStart",value:function(){this.setState({focusedByTouch:!0})}},{key:"handleSearch",value:function(e){var t=e.target.value;this.setState({isOpen:!0,hasSearchChanged:!0,searchValue:t}),this.props.onSearch&&this.props.onSearch(t)}},{key:"handleSelect",value:function(e,t){this.setState({searchValue:"",hasSearchChanged:!1,isOpen:!0}),this.props.onSelect&&this.props.onSelect(e,t)}},{key:"setInput",value:function(e){this.input=e}},{key:"setSelectMenuRef",value:function(e){this.selectMenu=e}},{key:"getDisplay",value:function(e,t,n){var r=this.state,i=r.searchValue,a=r.isFocused,l=this.props,u=l.disabled,c=l.display,d=l.placeholder,f=l.required,p=l.value,h=l.inputId,v=!a&&p&&p.length>0,m={disabled:u,placeholder:d,ref:this.setInput,onChange:this.handleSearch,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onMouseDown:this.handleInputMouseDown,"aria-label":this.ariaLabel(),"aria-describedby":"".concat(e," ").concat(t),"aria-disabled":u,"aria-owns":this.state.isOpen?n:void 0,type:"text",className:P("search-input",{"is-hidden":v}),required:!(!f||c.length)||void 0,id:h,"aria-required":f&&!c.length};return o.default.createElement("ul",{"data-terra-form-select-input":!0,className:P("content")},c&&c.length>0?o.default.createElement("li",null,o.default.createElement("ul",{id:e,className:P("display-content")},c,o.default.createElement("li",{className:P("visually-hidden-component")},o.default.createElement(s.FormattedMessage,{id:"Terra.form.select.selected"})))):null,o.default.createElement("li",{className:P("search-wrapper")},o.default.createElement("input",O({},m,{value:i}))))}},{key:"closeDropdown",value:function(){this.setState({isAbove:!1,isFocused:document.activeElement===this.input||document.activeElement===this.select,isOpen:!1,isPositioned:!1,hasSearchChanged:!1,searchValue:""});var e=this.state.searchValue;if(t.shouldAddOptionOnBlur(this.props,this.state)){var n=0===e.trim().length?"":e;this.props.onSelect&&this.props.onSelect(n)}}},{key:"openDropdown",value:function(e){if(this.shouldFocusDropdown=!1,!this.state.isOpen&&!this.props.disabled){if(e&&e.target&&(e.target.hasAttribute("data-terra-form-select-toggle-button")||e.target.hasAttribute("data-terra-form-select-toggle-button-icon")))return this.setState({isOpen:!0,isPositioned:!1}),void(this.shouldFocusDropdown=!0);(e.target.hasAttribute("data-terra-form-select-toggle")||e.target.className.includes("arrow-icon"))&&this.input.focus(),this.input?this.input.focus():h.default.shiftFocusToMenu(this),this.setState({isOpen:!0,isPositioned:!1})}}},{key:"positionDropdown",value:function(){var e=this;if(this.state.isOpen){var t=this.props,n=t.dropdownAttrs,r=t.maxHeight,o=t.isTouchAccessible;this.setState(h.default.dropdownPosition(n,this.select,this.dropdown,r,o),(function(){e.state.isPositioned&&(e.dropdown.removeAttribute("inert"),e.dropdown.removeAttribute("aria-hidden"),e.selectMenu.setAttribute("tabIndex","0"),e.selectMenu&&e.shouldFocusDropdown&&e.selectMenu.focus())}))}}},{key:"toggleDropdown",value:function(e){this.state.isOpen?(this.input.focus(),this.closeDropdown()):this.openDropdown(e)}},{key:"ariaLabel",value:function(){var e=this.props,t=e.ariaLabel,n=e.disabled,r=e.intl,o=r.formatMessage({id:"Terra.form.select.ariaLabel"}),i=r.formatMessage({id:"Terra.form.select.dimmed"});return"ontouchstart"in window&&n?void 0===t?"".concat(o," ").concat(i):"".concat(t," ").concat(i):void 0===t?o:t}},{key:"role",value:function(){return this.props.disabled?void 0:"application"}},{key:"renderDescriptionText",value:function(){var e=this.props.intl,t=e.formatMessage({id:"Terra.form.select.listOfTotalOptions"}),n=e.formatMessage({id:"Terra.form.select.mobileUsageGuidance"}),r=e.formatMessage({id:"Terra.form.select.multiSelectUsageGuidance"});return"ontouchstart"in window?this.state.isInputFocused?"".concat(t):"".concat(t," ").concat(n):"".concat(t," ").concat(r)}},{key:"renderToggleButton",value:function(){var e=this.props,t=e.intl,n=e.isInvalid,r=t.formatMessage({id:"Terra.form.select.mobileButtonUsageGuidance"});if("ontouchstart"in window){if(this.state.isInputFocused){var i=P(["toggle",{"is-invalid":n}]);return o.default.createElement("div",{"data-terra-form-select-toggle":!0,className:i,onClick:this.handleToggleClick},o.default.createElement("span",{className:P("arrow-icon")}))}var a=P(["toggle","toggle-narrow",{"is-invalid":n}]);return o.default.createElement("div",{className:a},o.default.createElement("button",{type:"button",className:P("toggle-btn"),"aria-label":r,"data-terra-form-select-toggle-button":!0,onClick:this.handleToggleButtonClick},o.default.createElement("span",{className:P("arrow-icon"),"data-terra-form-select-toggle-button-icon":!0})))}var l=P(["toggle",{"is-invalid":n}]);return o.default.createElement("div",{"data-terra-form-select-toggle":!0,className:l,onClick:this.toggleDropdown},o.default.createElement("span",{className:P("arrow-icon")}))}},{key:"render",value:function(){var e=this,n=this.props,r=(n.ariaLabel,n.children),i=n.disabled,l=(n.display,n.dropdownAttrs),u=(n.intl,n.inputId,n.isIncomplete),s=n.isTouchAccessible,d=n.isInvalid,v=(n.maxHeight,n.maxSelectionCount),m=n.onDeselect,b=(n.onSearch,n.onSelect,n.optionFilter),_=(n.placeholder,n.required),w=(n.totalOptions,n.value),S=g(n,y),T=this.context,k=(0,a.default)(P("select","tag",{"is-above":this.state.isAbove},{"is-disabled":i},{"is-focused":this.state.isFocused},{"is-invalid":d},{"is-incomplete":u&&_&&!d},{"is-open":this.state.isOpen},T.className),S.className),j="terra-select-screen-reader-label-".concat((0,c.default)()),E="terra-select-screen-reader-display-".concat((0,c.default)()),C="terra-select-screen-reader-description-".concat((0,c.default)()),x=S["aria-describedby"],M=x?"".concat(C," ").concat(x):C,D={id:this.menuId,value:w,onDeselect:m,optionFilter:b,visuallyHiddenComponent:this.visuallyHiddenComponent,onSelect:this.handleSelect,onRequestClose:this.closeDropdown,searchValue:this.state.searchValue,input:this.input,select:this.select,maxSelectionCount:v,refCallback:this.setSelectMenuRef};return o.default.createElement("div",O({},S,{role:this.role(),"data-terra-select-combobox":!0,"aria-controls":!i&&this.state.isOpen?this.menuId:void 0,"aria-disabled":!!i,"aria-expanded":!!i&&!!this.state.isOpen,"aria-haspopup":i?void 0:"true","aria-describedby":M,"aria-owns":this.state.isOpen?this.menuId:void 0,className:k,onBlur:this.handleBlur,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onMouseDown:t.handleMouseDown,onTouchStart:this.handleTouchStart,tabIndex:"-1",ref:function(t){e.select=t}}),o.default.createElement("div",{className:P("visually-hidden-component"),hidden:!0},o.default.createElement("span",{id:j},this.ariaLabel()),o.default.createElement("span",{id:C},this.renderDescriptionText())),o.default.createElement("div",{className:P("display")},this.getDisplay(E,M,this.menuId)),this.renderToggleButton(),o.default.createElement("span",{"aria-atomic":"true","aria-live":"assertive","aria-relevant":"additions text",className:P("visually-hidden-component"),ref:this.visuallyHiddenComponent}),this.state.isOpen&&o.default.createElement(f.default,O({},l,{id:this.state.isOpen?"terra-select-dropdown":void 0,target:this.select,isAbove:this.state.isAbove,isTouchAccessible:s,isEnabled:this.state.isPositioned,onResize:this.positionDropdown,refCallback:function(t){e.dropdown=t},style:h.default.dropdownStyle(l,this.state)}),o.default.createElement(p.default,D,r)))}}])&&w(r.prototype,i),l&&w(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,l}(o.default.Component);M.propTypes=C,M.defaultProps=x,M.contextType=u.default;t.default=(0,s.injectIntl)(M)},33463:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=m(n(96540)),i=m(n(5556)),a=m(n(67967)),l=m(n(52103)),u=n(41843),s=n(8604),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(25966)),d=m(n(11926)),f=m(n(29026)),p=m(n(78833)),h=m(n(54054));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function O(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function w(e,t,n){return t=T(t),function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,S()?Reflect.construct(t,n||[],T(e).constructor):t.apply(e,n))}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}var j=a.default.bind(h.default),E={id:i.default.string,children:i.default.node,select:i.default.instanceOf(Element),intl:i.default.shape({formatMessage:i.default.func}).isRequired,input:i.default.instanceOf(Element),maxSelectionCount:i.default.number,onDeselect:i.default.func,onSelect:i.default.func.isRequired,optionFilter:i.default.func,searchValue:i.default.string,value:i.default.oneOfType([i.default.string,i.default.number,i.default.array]),visuallyHiddenComponent:i.default.shape({current:i.default.instanceOf(Element)}),refCallback:i.default.func},P={id:void 0,children:void 0,input:void 0,maxSelectionCount:void 0,onDeselect:void 0,optionFilter:void 0,searchValue:void 0,select:void 0,visuallyHiddenComponent:void 0,value:void 0,refCallback:void 0},C=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=w(this,t,[e])).state={},n.clearScrollTimeout=n.clearScrollTimeout.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleOptionClick=n.handleOptionClick.bind(n),n.scrollIntoView=n.scrollIntoView.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.scrollIntoView(),"ontouchstart"in window||this.updateCurrentActiveScreenReader()}},{key:"componentDidUpdate",value:function(){this.updateNoResultsScreenReader(),this.updateCurrentActiveScreenReader()}},{key:"componentWillUnmount",value:function(){this.clearScrollTimeout(),this.state.closedViaKeyEvent&&this.props.input&&this.props.input.focus(),document.removeEventListener("keydown",this.handleKeyDown)}},{key:"handleKeyDown",value:function(e){var t=e.keyCode,n=this.state,r=n.active,o=n.children,i=this.props,a=i.intl,l=i.onSelect,u=i.onDeselect,s=i.value,d=i.visuallyHiddenComponent,f=p.default.flatten(this.state.children,!0),h=f.length,v=p.default.getIndex(f,this.state.active);if(t===c.KEY_UP)this.clearScrollTimeout(),this.scrollTimeout=setTimeout(this.clearScrollTimeout,500),this.setState({active:p.default.findPrevious(o,r)},this.scrollIntoView),this.updateCurrentActiveScreenReader();else if(t===c.KEY_DOWN)this.clearScrollTimeout(),this.scrollTimeout=setTimeout(this.clearScrollTimeout,500),this.setState({active:p.default.findNext(o,r)},this.scrollIntoView),this.updateCurrentActiveScreenReader();else if(t!==c.KEY_RETURN||null===r||p.default.includes(s,r))if(t===c.KEY_RETURN&&null!==r&&p.default.includes(s,r)){e.preventDefault();var m=p.default.findByValue(o,r);d&&d.current&&(d.current.innerHTML=a.formatMessage({id:"Terra.form.select.unselectedText"},{text:m.props.display})),u&&u(m.props.value,m)}else t===c.KEY_HOME?(e.preventDefault(),this.setState({active:p.default.findFirst(o)})):t===c.KEY_END&&(e.preventDefault(),this.setState({active:p.default.findLast(o)}));else{e.preventDefault();var y=p.default.findByValue(o,r);d&&d.current&&(d.current.innerHTML=a.formatMessage({id:"Terra.form.select.selectedText"},{text:y.props.display,index:v,totalOptions:h})),l&&l(y.props.value,y)}}},{key:"handleOptionClick",value:function(e,t){if(!t.props.disabled&&t===this.downOption){var n=this.props,r=n.input,o=n.onDeselect,i=n.onSelect,a=n.value,l=n.intl,u=n.visuallyHiddenComponent,s=p.default.flatten(this.state.children,!0),c=s.length,d=p.default.getIndex(s,this.state.active),f=p.default.includes(a,t.props.value),h=f?l.formatMessage({id:"Terra.form.select.unselectedText"},{text:t.props.display}):l.formatMessage({id:"Terra.form.select.selectedText"},{text:t.props.display,index:d,totalOptions:c});u&&u.current&&(u.current.innerHTML=h),f?o&&o(t.props.value,t):(i&&i(t.props.value,t),r&&r.focus())}}},{key:"isActiveSelected",value:function(){return this.props.value.includes(this.state.active)}},{key:"updateNoResultsScreenReader",value:function(){var e=this;this.liveRegionTimeOut&&clearTimeout(this.liveRegionTimeOut),this.liveRegionTimeOut=setTimeout((function(){var t=e.state.hasMaxSelection,n=e.props,r=n.intl,o=n.visuallyHiddenComponent;o&&o.current&&(o.current.innerText=t?r.formatMessage({id:"Terra.form.select.maxSelectionOption"},{text:e.props.maxSelectionCount}):"")}),1e3)}},{key:"updateCurrentActiveScreenReader",value:function(){var e=this.props,t=e.intl,n=e.visuallyHiddenComponent,r=t.formatMessage({id:"Terra.form.select.clearSelect"});if(null!==this.menu&&null!==this.state.active&&this.menu.setAttribute("aria-activedescendant","terra-select-option-".concat(this.state.active)),n&&n.current){var o=this.menu.querySelector("[data-select-active]");if(o&&o.hasAttribute("data-terra-select-add-option")){var i=o.querySelector("[data-terra-add-option]")?o.querySelector("[data-terra-add-option]").innerText:null;n.current.innerText=i}var a,l=p.default.getOptGroupElement(this.props.children,this.state.active),u=p.default.findByValue(this.props.children,this.state.active);if(l?a=t.formatMessage({id:"Terra.form.select.optGroup"},{text:"".concat(l.props.label,", ").concat(u.props.display)}):u&&(a=u.props.display),u){var s=p.default.flatten(this.state.children,!0),c=s.length,d=p.default.getIndex(s,this.state.active);""===u.props.display&&""===u.props.value?n.current.innerText=r:this.isActiveSelected()?n.current.innerText=t.formatMessage({id:"Terra.form.select.selectedText"},{text:a,index:d,totalOptions:c}):n.current.innerText=t.formatMessage({id:"Terra.form.select.activeOption"},{text:a,index:d,totalOptions:c})}}}},{key:"clearScrollTimeout",value:function(){clearTimeout(this.scrollTimeout),this.scrollTimeout=null}},{key:"clone",value:function(e){var t=this;return o.default.Children.map(e,(function(e){return e.type.isOption?o.default.cloneElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:"terra-select-option-".concat(e.props.value),isActive:e.props.value===t.state.active,isCheckable:!0,isSelected:p.default.isSelected(t.props.value,e.props.value),variant:"tag",onMouseDown:function(){t.downOption=e},onMouseUp:function(n){return t.handleOptionClick(n,e)}},e.props.value===t.state.active&&{"data-select-active":!0})):e.type.isOptGroup?o.default.cloneElement(e,{},t.clone(e.props.children)):e}))}},{key:"scrollIntoView",value:function(){var e=this.menu.querySelector("[data-select-active]");if(this.state.active&&null!==e){var t=this.menu.parentNode.getBoundingClientRect(),n=e.getBoundingClientRect();n.top<t.top?this.menu.parentNode.scrollTop=e.offsetTop:n.bottom>t.bottom&&(this.menu.parentNode.scrollTop=e.offsetTop-t.height+n.height)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.intl,i=t.refCallback,a=this.context;return o.default.createElement("ul",y({id:n,role:"listbox",className:j("menu",a.className),"aria-label":r.formatMessage({id:"Terra.form.select.menu"}),ref:function(t){i&&i(t),e.menu=t}},null!==this.state.active?{"aria-activedescendant":"terra-select-option-".concat(this.state.active)}:{},{tabIndex:"0"}),this.clone(this.state.children))}}],i=[{key:"isMaxSelectionReached",value:function(e){var t=e.maxSelectionCount,n=e.value;return!!(void 0!==t&&n&&n.length>=t)}},{key:"shouldAllowFreeText",value:function(e,t){var n=e.searchValue,r=e.value,o=p.default.findByDisplay(t,n),i=p.default.isEqual(r,n);return!o&&!i&&(n||"").trim().length>0}},{key:"updateSelectionState",value:function(e,n){var r=t.isMaxSelectionReached(n);return o.default.Children.map(e,(function(e){return e.type.isOption?o.default.cloneElement(e,{disabled:e.props.disabled||r&&!p.default.isSelected(n.value,e.props.value)}):e.type.isOptGroup?o.default.cloneElement(e,{},t.updateSelectionState(e.props.children,n)):e}))}},{key:"getDerivedStateFromProps",value:function(e,n){var r,i=e.maxSelectionCount,a=e.searchValue,l=!1;return a&&a.length>0&&t.isMaxSelectionReached(e)?(r=[o.default.createElement(f.default,{value:i})],l=!0):(r=p.default.filter(e.children,e.searchValue,e.optionFilter),r=t.updateSelectionState(r,e),t.shouldAllowFreeText(e,r)&&r.push(o.default.createElement(d.default,{value:a}))),{children:r,searchValue:a,hasMaxSelection:l,hasNoResults:!1,active:p.default.getActiveOptionFromProps(e,r,n)}}}],r&&g(n.prototype,r),i&&g(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.default.Component);C.propTypes=E,C.defaultProps=P,C.contextType=l.default,(0,u.polyfill)(C);t.default=(0,s.injectIntl)(C)},52956:function(e,t,n){n.r(t),t.default={"clinical-lowlight-theme":"_Dropdown-module__clinical-lowlight-theme___x--8H","orion-fusion-theme":"_Dropdown-module__orion-fusion-theme___9F-FX",dropdown:"_Dropdown-module__dropdown___m6DPx","is-above":"_Dropdown-module__is-above___B5eKk","is-touch-accessible":"_Dropdown-module__is-touch-accessible___vAs1L"}},26378:function(e,t,n){n.r(t),t.default={"clinical-lowlight-theme":"_Frame-module__clinical-lowlight-theme___E+QMi","orion-fusion-theme":"_Frame-module__orion-fusion-theme___rLlIC",select:"_Frame-module__select___TLmDq",default:"_Frame-module__default___fIQMp",display:"_Frame-module__display___oJGJh","is-focused":"_Frame-module__is-focused___TaplB","is-open":"_Frame-module__is-open___JyP0m","is-above":"_Frame-module__is-above___nLmau","is-incomplete":"_Frame-module__is-incomplete___rCOk6","is-disabled":"_Frame-module__is-disabled___OGLoo","is-invalid":"_Frame-module__is-invalid___KWUGG","arrow-icon":"_Frame-module__arrow-icon___QxG5x","search-input":"_Frame-module__search-input___dW0R8",placeholder:"_Frame-module__placeholder___khmVe",toggle:"_Frame-module__toggle___dAPa9","toggle-narrow":"_Frame-module__toggle-narrow___TV+x4","toggle-btn":"_Frame-module__toggle-btn___rczk4",content:"_Frame-module__content___gRs4x","display-content":"_Frame-module__display-content___GYT8+","is-hidden":"_Frame-module__is-hidden___uZNQE","search-wrapper":"_Frame-module__search-wrapper___fT7H+",tag:"_Frame-module__tag___pY6x7",search:"_Frame-module__search___zHwFn",combobox:"_Frame-module__combobox___9DuNj",multiple:"_Frame-module__multiple___l69VG","visually-hidden-component":"_Frame-module__visually-hidden-component___hW4KH",single:"_Frame-module__single___vez2H"}},3719:function(e,t,n){n.r(t),t.default={"clinical-lowlight-theme":"_MaxSelection-module__clinical-lowlight-theme___Q9M6W","orion-fusion-theme":"_MaxSelection-module__orion-fusion-theme___qe7S4","max-selection":"_MaxSelection-module__max-selection___oDtiJ"}},54054:function(e,t,n){n.r(t),t.default={"clinical-lowlight-theme":"_Menu-module__clinical-lowlight-theme___Hi7cm","orion-fusion-theme":"_Menu-module__orion-fusion-theme___Oq1-+",menu:"_Menu-module__menu___wP3eT"}},8043:function(e,t,n){n.r(t),t.default={"clinical-lowlight-theme":"_OptGroup-module__clinical-lowlight-theme___5NGCl","orion-fusion-theme":"_OptGroup-module__orion-fusion-theme___I88fC","opt-group":"_OptGroup-module__opt-group___CJLKQ",label:"_OptGroup-module__label___jFsfw",options:"_OptGroup-module__options___SrhFc","is-disabled":"_OptGroup-module__is-disabled___QZh+i"}},15392:function(e,t,n){n.r(t),t.default={"clinical-lowlight-theme":"_Option-module__clinical-lowlight-theme___dPM67","orion-fusion-theme":"_Option-module__orion-fusion-theme___Hx-Fh",option:"_Option-module__option___MKYcV","is-active":"_Option-module__is-active___za6A2","is-default":"_Option-module__is-default___zJzAG","is-disabled":"_Option-module__is-disabled___iV9ew","is-selected":"_Option-module__is-selected___A0AS6",display:"_Option-module__display___LCPqy",icon:"_Option-module__icon___3tSSX","is-checkable":"_Option-module__is-checkable___Q8TPX","is-add-option":"_Option-module__is-add-option___UfFR6"}},20137:function(e,t,n){n.r(t),t.default={"clinical-lowlight-theme":"_Tag-module__clinical-lowlight-theme___-m+je","orion-fusion-theme":"_Tag-module__orion-fusion-theme___Dk14i",tag:"_Tag-module__tag___gp7HT",display:"_Tag-module__display___2-rd4",deselect:"_Tag-module__deselect___-yUlo",icon:"_Tag-module__icon___O74EY"}}}]);