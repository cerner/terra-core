import { Notice } from "@cerner/terra-docs";
import Whitespace from "../../common/layout-helpers/Whitespace";
import { Badge } from 'terra-icon/package.json?dev-site-package';
import DecorativeIconExamples from './example/DecorativeIconExamples?dev-site-example';
import MeaningfulIconExamples from './example/MeaningfulIconExamples?dev-site-example';
import MeaningfulIconGroupExample from './example/MeaningfulIconGroupExample?dev-site-example';
import IconEdit from 'terra-icon/lib/icon/IconEdit';

import IconAudio from 'terra-icon/lib/icon/IconAudio';
import Spacer from 'terra-spacer';

import IconManufacturer from 'terra-icon/lib/icon/IconManufacturer';
import IconAnnouncement from 'terra-icon/lib/icon/IconAnnouncement';
import logoWithText from './assets/xenoworfco_logo.svg';
import Image from 'terra-image';

<Badge />

# Accessibility Guide for Terra Icon

<Notice variant="important" ariaLevel="2">

Accessibility of icons is important because icons are ubiquitous. They can convey visual meaning or be used as a decorative or supportive element in a UI design and are an essential tool for creating intuitive user experiences that are appropriate for all languages. However, **if implemented improperly or without alternative content, they will not understood everyone**.

</Notice>

Since icons are images, they are not inherently accessible to all users, especially those with significantly impaired vision or blindness. Therefore, interface **icons must have alternative content**.

Screen readers convey alternative content to users who have difficulty interpreting icons. Speech input devices also use alternative content to target specific icons.

It is common for interfaces to use multiples of the same icon on a screen. Development and content teams must consider this use case to ensure all users can predictably understand the icon's purpose.

**Users expect identical icons to perform the same function**. Similarly, screen reader users expect their software to identify identical icons consistently. Therefore, failure to provide consistent identification (visual or alternative content) can cause problems for all users.

In addition, people who use only their voice to interact with technology also rely upon consistent alternative content behind the icons to ensure they can interact with controls.



<Whitespace />

## Accessibility Considerations:

### Meaningful Use of Icons

Icons that convey information **must have alternative text in code** to ensure that assistive technologies pass the icon's meaning to the user.

<MeaningfulIconExamples/>

In this example the factory icon (<IconManufacturer/>) and announcement icon (<IconAnnouncement/>) are both meaningful. The factory icon has the meaning that _this text is an address_. The announcement icon has the meaning that _this text is an announcement_. However, neither icon conveys that meaning to users who cannot see them. Therefore, both icons code must include `alt="<alternative text>"` to adequately convey their meaning to a screen reader user. The factory icon should have `alt="Address"` and the announcement icon should have `alt="Announcement"`. With these text alturnatives added, screen reader users will hear _"&lt;Text Alternative&gt; &lt;Text&gt_":

<p><em>"Address 2800 Rock Creek Pkwy Kansas City, MO 64117"</em></p>
<p><em>"Announcement Facilities will closed on Monday"</em></p>

#### Meaningful Use of Groups of Icons

Sometimes icons only have meaning in the context of other icons. Here is one example where multiple icons are used to create a single five-star rating system:

<MeaningfulIconGroupExample/>

One technique to make groups of images accessible is show above - to give the first image in the group a meaning but mark the other images as presentationsl (so that they will be ingored by screen readers). This technique results in the user hearing:

_"Rating: Three and a half stars out of five"_

#### Meaningful Use of Icons Containing Text

Terra does not provide Icons containig text, but you might encounter such a scenario. One example found commonly is a company logo that includes the company's name in the logo graphic. For more information see https://www.w3.org/WAI/tutorials/images/textual/.

## BELOW THIS LINE IS NOT READY FOR REVIEW YET!

### Decorative Use of Icons

In decorative use, an icon provides no additional information or context. Meaning that, without the icon, the user would still know the meaning and purpose of the button.

<DecorativeIconExamples/>

The plus (+) icon, in this case, is purely decorative. It supplements the button's text label, which informs the user of the element's purpose.

Since the icon is decorative, its code must feature `alt=""` to ensure screen readers do not announce the icon's presence. For example, if this icon had `alt="Add"` in its code, a screen reader user would hear something like, "Add _Add_ Clinical Note." This is not only redundant but adds cognitive friction and possible confusion.

### Code Considerations

- Appropriately code each icon as being meaningful or decorative. Ensure each meaningful icon has alternative text provided by the content creator.
- Do not overwrite theme colors unless UX provides custom colors. All custom colors must pass WCAG 2.1 color accessibility requirements.

<Whitespace />

### Content Considerations

- Specify **every** icon instance as meaningful or decorative. Provide developers with clear and concise alternative text for meaningful icons that accurately reflect the icon's meaning or purpose.
- While some icons are ubiquitous and generally intuitive (e.g., printer icon), it is best to use words with icons.
- Icon meaning must be consistent throughout the product. For example, a plus (+) icon must always represent “add” functionality. In addition, if multiples of the same icon are in [repeated controls on the same page](https://adrianroselli.com/2019/06/group-labels-do-not-guarantee-uniquity.html), the combination of alternative text and text label must be [unique](https://fae.disability.illinois.edu/rulesets/CONTROL_10/) (e.g., “Add Blood Pressure” and “Add Temperature”).
- Colors for icons are predefined in each of Terra's visual themes. When icon colors require customization, they must meet WCAG Success Criteria for [1.4.3 Contrast (Minimum) (Level AA)](https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum.html), which is a 3:1 contrast ratio. Ensure icon colors have sufficient contrast against background colors with the [Colour Contrast Analyzer](https://www.tpgi.com/color-contrast-checker/).
- Use color to enhance, not convey, icon meaning. For example, changing an icon's color from green to red to indicate a status change would fail accessibility requirements if no words or symbols were associated with the icon.

<Whitespace />

## Support Compliance

Terra is committed to ensuring its components provide maximum possible accessibility. However, using Terra components will not automatically make your product accessible. At most, consuming this component accounts for 33% of a product’s accessibility — the rest is up to development teams to implement.

This component has **[known / no known]** accessibility failures. If you find accessibility bugs or gaps, please [report these issues on Github](https://github.com/cerner/terra-core/issues/new/choose).

#### Success Criteria

_Icon **must** meet the following success criteria:_

- [**1.3.1 Info and Relationships**](https://www.w3.org/WAI/WCAG21/Understanding/info-and-relationships.html). - The intent of this Success Criterion is to ensure that information and relationships that are implied by visual or auditory formatting are preserved when the presentation format changes. For example, the presentation format changes when the content is read by a screen reader.
- [**0.0.0. Criteria Name**](https://www.link-to-criteria.html) - copy main paragraph text for the criteria.
